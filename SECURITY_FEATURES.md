# 구현된 보안 기능 설명

이 문서는 프로젝트에 구현된 보안 관련 기능, 특히 사용자 위치 기반 서비스의 잠재적 악용을 방지하기 위한 로직을 설명합니다.

## 1. 미션 클리어 속도 검증 (Impossible Speed Check)

### 목적

사용자가 GPS 위치를 조작(Spoofing)하여 물리적으로 불가능한 속도로 이동하며 미션을 클리어하는 부정행위를 방지하는 것을 목표로 합니다. 예를 들어, 서울에서 미션을 클리어한 직후 1분 만에 부산에서 다음 미션을 클리어하는 것은 비정상적인 활동으로 간주할 수 있습니다.

### 동작 원리

이 보안 절차는 두 개의 연속된 미션 클리어 이벤트 사이의 시간과 거리를 기반으로 사용자의 이동 속도를 계산하여 작동합니다.

1.  **데이터 기록**: 사용자가 첫 번째 미션을 클리어하면, 해당 지점의 **위치 좌표(위도, 경도)**와 **시간(Timestamp)**이 기록됩니다.
2.  **데이터 비교**: 사용자가 두 번째 미션을 클리어하면, 새로운 위치 좌표와 시간이 기록됩니다.
3.  **거리 계산**: 두 미션 지점 간의 직선거리(Haversine formula 사용)를 계산합니다.
4.  **시간 계산**: 두 미션 클리어 시간 사이의 경과 시간을 계산합니다.
5.  **속도 계산**: `속도 = 거리 / 시간` 공식을 사용하여 사용자의 평균 이동 속도를 계산합니다.
6.  **임계값 검증**: 계산된 속도를 미리 설정된 임계값(예: 시속 300km)과 비교합니다.
7.  **결과 처리**:
    *   **정상**: 계산된 속도가 임계값 이하라면, 정상적인 플레이로 간주하여 미션 클리어를 승인합니다.
    *   **비정상**: 계산된 속도가 임계값을 초과하면, 비정상적인 활동으로 간주하여 미션 클리어를 거절하고 경고를 표시합니다.

### 구현 내용

*   이 로직의 개념과 동작을 시뮬레이션하기 위해 `src/pages/MissionSecurityPage.jsx` 컴포넌트가 구현되었습니다.
*   시뮬레이션에서는 '서울역'과 '부산역'을 두 미션 지점으로 사용하여, 단시간 내에 두 지점에서 미션을 클리어할 경우 비정상적인 속도로 감지되는 과정을 명확히 보여줍니다.

### 한계 및 향후 개선 방향

*   현재 구현은 클라이언트 측의 간단한 시뮬레이션입니다. 실제 서비스에서는 보안을 위해 모든 검증 로직이 **서버 측에서** 이루어져야 합니다.
*   직선거리(Haversine) 대신 실제 도로망을 고려한 경로 기반 거리 계산을 도입하면 더 정교한 검증이 가능합니다.
*   이동 수단(도보, 차량 등)에 따라 임계값을 동적으로 조절하여 검증의 정확도를 높일 수 있습니다.

---
